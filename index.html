<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>3D Model Viewer - GitHub Models</title>
  <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/4.0.0/model-viewer.min.js"></script>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #f0f0f0;
      display: flex;
      flex-direction: column;
      height: 100vh;
    }
    header {
      padding: 10px;
      background: #333;
      color: white;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    model-viewer {
      flex: 1;
      background-color: #fff;
    }
    .controls {
      display: flex;
      gap: 10px;
    }
    .button {
      padding: 6px 12px;
      cursor: pointer;
      border: none;
      border-radius: 4px;
    }
    .primary {
      background: #007bff;
      color: white;
    }
  </style>
</head>
<body>
  <header>
    <div class="controls">
      <button id="prevModel" class="button">Previous Model</button>
      <button id="nextModel" class="button">Next Model</button>
      <button id="toggleBg" class="button">Toggle Background</button>
      <label>Zoom:
        <input type="range" id="zoomSlider" min="0.5" max="3" step="0.1" value="1" />
      </label>
      <button id="playOnce" class="button primary">Play Animation</button>
    </div>
  </header>

  <model-viewer id="viewer" 
    src=""
    camera-controls
    auto-rotate
    ar
    style="width:100%; height:100%;"
    exposure="1"
    shadow-intensity="1">
  </model-viewer>

  <script>
    const viewer = document.getElementById('viewer');

    // Model URLs
    const models = [
      'https://swaroop36.github.io/xenreality.github.io/zuri_gold.glb',
      'https://swaroop36.github.io/xenreality.github.io/zuri_blue.glb'
    ];
    let currentModel = 0;

    // Load the first model
    viewer.src = models[currentModel];

    // Toggle models
    document.getElementById('nextModel').addEventListener('click', () => {
      currentModel = (currentModel + 1) % models.length;
      viewer.src = models[currentModel];
    });
    document.getElementById('prevModel').addEventListener('click', () => {
      currentModel = (currentModel - 1 + models.length) % models.length;
      viewer.src = models[currentModel];
    });

    // Toggle background
    document.getElementById('toggleBg').addEventListener('click', () => {
      viewer.style.backgroundColor = 
        viewer.style.backgroundColor === 'white' ? 'lightgray' : 'white';
    });

    // Zoom control
    const zoomSlider = document.getElementById('zoomSlider');
    zoomSlider.addEventListener('input', () => {
      const zoom = zoomSlider.value;
      viewer.cameraOrbit = `0deg 75deg ${zoom}m`;
    });

    // Play first animation once
    const playOnce = document.getElementById('playOnce');
    playOnce.addEventListener('click', () => {
      const animations = viewer.availableAnimations || [];
      if (animations.length === 0) {
        alert("This model has no animations!");
        return;
      }
      viewer.animationName = animations[0]; // first animation
      viewer.play({ repetitions: 1 }); // play once
    });
  </script>
</body>
</html>
