<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Model Viewer – Click to Reveal (Placed Exactly)</title>

  <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.0.0/model-viewer.min.js"></script>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@500;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --ink:#202326;
      --body:#555a5f;
      --rule:#a2a7ad;
      --bg:#ffffff;
    }
    *{box-sizing:border-box;}
    html,body{height:100%;margin:0;}
    body{background:var(--bg);color:var(--ink);font-family:Inter, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;}

    /* Layout */
    .stage{
      min-height:100vh;
      display:grid;
      grid-template-columns: 1fr minmax(420px, 560px) 1fr;
      align-items:center;
      gap:48px;
      padding:24px 48px 56px;
    }

    .model-wrap{
      position:relative;
      width:100%;
      height:min(78vh, 900px);
      display:grid; place-items:center;
      background:#eef0f5;
      border-radius:8px;
    }
    model-viewer{ width:100%; height:100%; background:transparent; --poster-color:transparent; }

    .info{
      justify-self:center;
      width:min(520px, 92%);
      background:#fff;
      border-radius:18px;
      padding:26px 28px;
      box-shadow:0 20px 60px rgba(0,0,0,.08);
      position:relative;   /* anchor for the circle */
    }

    .kicker{
      margin:0 0 8px; font-size:13px; font-weight:700; letter-spacing:.06em; text-transform:uppercase;
      color:var(--ink); display:flex; align-items:center; gap:12px;
    }
    .rule{flex:1; height:1px; background:var(--rule); opacity:.85;}
    .copy{margin:8px 0 0; font-size:14px; line-height:1.7; color:var(--body);}
    .section + .section{margin-top:18px;}

    /* Exact circle button placement
       According to your latest screenshot, the circle sits BELOW the right card,
       horizontally centered under the middle of the card content area. */
    .reveal{
      position:absolute;
      left:50%;
      transform:translateX(-150%); /* center horizontally under the card */
      bottom:-200px;              /* push it down to match your red circle */
      width:160px; height:160px;
      border-radius:50%;
      border:2px solid #111;
      background:#fff;
      display:grid; place-items:center;
      cursor:pointer;
      user-select:none;
      transition:transform .2s ease, box-shadow .2s ease, background .2s ease;
      z-index:3;
    }
    .reveal:hover{
      background:#f2f4f7;
      transform:translateX(-50%) translateY(-2px);
      box-shadow:0 12px 30px rgba(0,0,0,.12);
    }
    .reveal span{
      display:block; width:80%; text-align:center;
      font-size:12px; font-weight:700; letter-spacing:.06em; line-height:1.2;
      color:#111; text-transform:uppercase;
    }

    /* Keep circle centered beneath the card on narrow screens */
    @media (max-width:1100px){
      .stage{ grid-template-columns:1fr; gap:18px; padding:12px 16px 120px; }
      .model-wrap{ order:2; height:64vh; }
      .info{ width:100%; padding:22px 20px; border-radius:14px; }
      .reveal{
        bottom:-650px;           /* a bit closer on mobile */
        width:140px; height:140px;
        transform: translateX(-250%);
      }
    }
  </style>
</head>
<body>
  <main class="stage">
    <!-- Left block -->
    <aside class="info">
      <div class="section">
        <h3 class="kicker">Hydration that lasts.<span class="rule"></span></h3>
        <p class="copy">Locks in moisture so your skin stays soft and dewy all day.</p>
      </div>
      <div class="section">
        <h3 class="kicker">Glow from within.<span class="rule"></span></h3>
        <p class="copy">Brightens dull skin, evens tone, and leaves a natural radiance.</p>
      </div>
    </aside>

    <!-- Center model -->
    <div class="model-wrap">
      <model-viewer id="viewer"
        src="https://swaroop36.github.io/xenreality.github.io/zuri_gold.glb"
        ar camera-controls touch-action="pan-y"
        environment-image="https://modelviewer.dev/shared-assets/environments/neutral.hdr"
        skybox-image="https://raw.githubusercontent.com/swaroop36/xenreality.github.io/cd658672d3e06d30acc82e6664dc38c4fdfb5298/white_background.jpg"
        tone-mapping="aces" exposure="1.0" field-of-view="70deg"
        camera-orbit="0deg 75deg 25m" min-camera-orbit="auto auto 5m" max-camera-orbit="auto auto 50m"
        autoplay="false" alt="3D model viewer" shadow-intensity="0">
      </model-viewer>
    </div>

    <!-- Right block with circle button placed exactly beneath it -->
    <aside class="info" id="rightCard">
      <div class="section">
        <h3 class="kicker">Effortless results.<span class="rule"></span></h3>
        <p class="copy">Our mess‑free applicator delivers effortless results in every swipe.</p>
      </div>
      <div class="section">
        <h3 class="kicker">Powered by a breakthrough formula<span class="rule"></span></h3>
        <p class="copy">A game‑changing blend that elevates your skin with every use.</p>
      </div>

      <!-- Circle button centered under this card -->
      <button id="revealBtn" class="reveal" type="button" aria-label="Click to reveal">
        <span>CLICK TO REVEAL WHY</span>
      </button>
    </aside>
  </main>

  <script>
    const viewer = document.getElementById('viewer');
    const revealBtn = document.getElementById('revealBtn');

    viewer.autoplay = false;

    function stopAtEnd(){
      try{
        viewer.pause?.();
        const end = viewer.duration ?? viewer.endTime;
        if (Number.isFinite(end)) viewer.currentTime = end;
      }catch(e){}
    }

    let rafId=null;
    function watchForWrap(){
      cancelAnimationFrame(rafId);
      let last = viewer.currentTime ?? 0;
      const end = viewer.duration ?? viewer.endTime;
      const tick = () => {
        const t = viewer.currentTime ?? 0;
        if (Number.isFinite(end) && t < last && last > 0){ stopAtEnd(); return; }
        last = t; rafId = requestAnimationFrame(tick);
      };
      rafId = requestAnimationFrame(tick);
    }
    function cancelWatch(){ cancelAnimationFrame(rafId); rafId=null; }
    viewer.addEventListener('finished', () => { cancelWatch(); stopAtEnd(); });

    // Play animation once when clicking the circle
    revealBtn.addEventListener('click', async () => {
      const firstAnim = viewer.availableAnimations?.[0] ?? null;
      if (!firstAnim) return;
      viewer.pause?.();
      viewer.animationName = firstAnim;
      viewer.currentTime = 0;
      try { await viewer.play?.({ repetitions: 1 }); }
      catch { viewer.play?.(); }
      watchForWrap();
    });
  </script>
</body>
</html>
